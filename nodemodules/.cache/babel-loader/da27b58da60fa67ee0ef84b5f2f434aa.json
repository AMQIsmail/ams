{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Ismail Saheb\\\\Desktop\\\\AMQ\\\\frontant\\\\react\\\\src\\\\components\\\\quiz_app\\\\contexts\\\\Authcontext.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useContext, useEffect, useState } from \"react\";\nimport '../firebase';\nimport { getAuth, createUserWithEmailAndPassword, updateProfile, signInWithEmailAndPassword, signOut, onAuthStateChanged } from 'firebase/auth';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AuthContext = /*#__PURE__*/React.createContext();\nexport function useAuth() {\n  _s();\n\n  return useContext(AuthContext);\n}\n\n_s(useAuth, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n\nexport function AuthProvider(_ref) {\n  _s2();\n\n  let {\n    children\n  } = _ref;\n  const [loding, setLoding] = useState(true);\n  const [currentUser, setCurrentuser] = useState();\n  useEffect(() => {\n    const auth = getAuth();\n    const unsubscribe = onAuthStateChanged(auth, user => {\n      setCurrentuser(user);\n      setLoding(false);\n    });\n    return unsubscribe;\n  }, []); // signup function\n\n  async function signup(email, password, username) {\n    const auth = getAuth();\n    await createUserWithEmailAndPassword(auth, email, password); // update profile\n\n    await updateProfile(auth.currentUser, {\n      displayName: username\n    });\n    const user = auth.currentUser;\n    setCurrentuser({ ...user\n    });\n  } // login function\n\n\n  function login(email, password) {\n    const auth = getAuth();\n    return signInWithEmailAndPassword(auth, email, password);\n  } // log out function\n\n\n  function logout() {\n    const auth = getAuth();\n    return signOut(auth);\n  }\n\n  const value = {\n    currentUser,\n    signup,\n    login,\n    logout\n  };\n  return /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n    value: value,\n    children: !loding && children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 7\n  }, this);\n}\n\n_s2(AuthProvider, \"+GEdg+bEXAnPrVnHTOJW39qNAHo=\");\n\n_c = AuthProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"AuthProvider\");","map":{"version":3,"sources":["C:/Users/Ismail Saheb/Desktop/AMQ/frontant/react/src/components/quiz_app/contexts/Authcontext.js"],"names":["React","useContext","useEffect","useState","getAuth","createUserWithEmailAndPassword","updateProfile","signInWithEmailAndPassword","signOut","onAuthStateChanged","AuthContext","createContext","useAuth","AuthProvider","children","loding","setLoding","currentUser","setCurrentuser","auth","unsubscribe","user","signup","email","password","username","displayName","login","logout","value"],"mappings":";;;;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,SAA5B,EAAuCC,QAAvC,QAAuD,OAAvD;AACA,OAAO,aAAP;AACA,SACEC,OADF,EAEEC,8BAFF,EAGEC,aAHF,EAGiBC,0BAHjB,EAIEC,OAJF,EAKEC,kBALF,QAK2B,eAL3B;;AAOA,MAAMC,WAAW,gBAAGV,KAAK,CAACW,aAAN,EAApB;AAEA,OAAO,SAASC,OAAT,GAAkB;AAAA;;AACvB,SAAOX,UAAU,CAACS,WAAD,CAAjB;AACD;;GAFeE,O;;AAIhB,OAAO,SAASC,YAAT,OAAkC;AAAA;;AAAA,MAAX;AAACC,IAAAA;AAAD,GAAW;AACvC,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBb,QAAQ,CAAC,IAAD,CAApC;AACA,QAAM,CAACc,WAAD,EAAcC,cAAd,IAAgCf,QAAQ,EAA9C;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMiB,IAAI,GAAGf,OAAO,EAApB;AACF,UAAMgB,WAAW,GAAIX,kBAAkB,CAACU,IAAD,EAAQE,IAAD,IAAU;AAClDH,MAAAA,cAAc,CAACG,IAAD,CAAd;AACAL,MAAAA,SAAS,CAAC,KAAD,CAAT;AACH,KAHoC,CAAvC;AAIE,WAAOI,WAAP;AACD,GAPQ,EAON,EAPM,CAAT,CAJuC,CAavC;;AACF,iBAAeE,MAAf,CAAsBC,KAAtB,EAA6BC,QAA7B,EAAuCC,QAAvC,EAAgD;AAC7C,UAAMN,IAAI,GAAGf,OAAO,EAApB;AACA,UAAMC,8BAA8B,CAACc,IAAD,EAAOI,KAAP,EAAcC,QAAd,CAApC,CAF6C,CAG7C;;AACH,UAAMlB,aAAa,CAACa,IAAI,CAACF,WAAN,EAAmB;AACpCS,MAAAA,WAAW,EAAED;AADuB,KAAnB,CAAnB;AAIA,UAAMJ,IAAI,GAAGF,IAAI,CAACF,WAAlB;AACAC,IAAAA,cAAc,CAAC,EACb,GAAGG;AADU,KAAD,CAAd;AAGC,GA1BwC,CA4BzC;;;AACA,WAASM,KAAT,CAAeJ,KAAf,EAAsBC,QAAtB,EAA+B;AAC7B,UAAML,IAAI,GAAGf,OAAO,EAApB;AACA,WAAOG,0BAA0B,CAACY,IAAD,EAAOI,KAAP,EAAcC,QAAd,CAAjC;AACD,GAhCwC,CAkCzC;;;AACA,WAASI,MAAT,GAAiB;AACf,UAAMT,IAAI,GAAGf,OAAO,EAApB;AACA,WAAOI,OAAO,CAACW,IAAD,CAAd;AACD;;AACD,QAAMU,KAAK,GAAG;AACZZ,IAAAA,WADY;AAEZK,IAAAA,MAFY;AAGZK,IAAAA,KAHY;AAIZC,IAAAA;AAJY,GAAd;AAMI,sBACE,QAAC,WAAD,CAAa,QAAb;AAAsB,IAAA,KAAK,EAAEC,KAA7B;AAAA,cACE,CAACd,MAAD,IAAWD;AADb;AAAA;AAAA;AAAA;AAAA,UADF;AAKH;;IAlDeD,Y;;KAAAA,Y","sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\r\nimport '../firebase';\r\nimport {\r\n  getAuth, \r\n  createUserWithEmailAndPassword, \r\n  updateProfile, signInWithEmailAndPassword, \r\n  signOut, \r\n  onAuthStateChanged} from 'firebase/auth';\r\n\r\nconst AuthContext = React.createContext();\r\n  \r\nexport function useAuth(){\r\n  return useContext(AuthContext);\r\n}\r\n\r\nexport function AuthProvider ({children}){\r\n  const [loding, setLoding] = useState(true);\r\n  const [currentUser, setCurrentuser] = useState();\r\n\r\n  useEffect(() => {\r\n    const auth = getAuth();\r\n  const unsubscribe =  onAuthStateChanged(auth, (user) => {\r\n        setCurrentuser(user);\r\n        setLoding(false);\r\n    });\r\n    return unsubscribe;\r\n  }, []);\r\n\r\n  // signup function\r\nasync function signup(email, password, username){\r\n   const auth = getAuth();\r\n   await createUserWithEmailAndPassword(auth, email, password);\r\n   // update profile\r\nawait updateProfile(auth.currentUser, {\r\n  displayName: username\r\n});\r\n\r\nconst user = auth.currentUser;\r\nsetCurrentuser({\r\n  ...user,\r\n});\r\n}\r\n\r\n// login function\r\nfunction login(email, password){\r\n  const auth = getAuth();\r\n  return signInWithEmailAndPassword(auth, email, password);\r\n}\r\n\r\n// log out function\r\nfunction logout(){\r\n  const auth = getAuth();\r\n  return signOut(auth);\r\n}\r\nconst value = {\r\n  currentUser,\r\n  signup,\r\n  login,\r\n  logout,\r\n}\r\n    return(\r\n      <AuthContext.Provider value={value}>\r\n       {!loding && children}\r\n      </AuthContext.Provider>\r\n    );\r\n}"]},"metadata":{},"sourceType":"module"}