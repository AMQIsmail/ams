{"ast":null,"code":"import _objectSpread from\"C:/Users/Ismail Saheb/Desktop/ams/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"C:/Users/Ismail Saheb/Desktop/ams/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Ismail Saheb/Desktop/ams/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\Ismail Saheb\\\\Desktop\\\\ams\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useContext,useEffect,useState}from\"react\";import'../firebase';import{getAuth,createUserWithEmailAndPassword,updateProfile,signInWithEmailAndPassword,signOut,onAuthStateChanged}from'firebase/auth';import{jsx as _jsx}from\"react/jsx-runtime\";var AuthContext=/*#__PURE__*/React.createContext();export function useAuth(){return useContext(AuthContext);}export function AuthProvider(_ref){var children=_ref.children;var _useState=useState(true),_useState2=_slicedToArray(_useState,2),loding=_useState2[0],setLoding=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),currentUser=_useState4[0],setCurrentuser=_useState4[1];useEffect(function(){var auth=getAuth();var unsubscribe=onAuthStateChanged(auth,function(user){setCurrentuser(user);setLoding(false);});return unsubscribe;},[]);// signup function\nfunction signup(_x,_x2,_x3){return _signup.apply(this,arguments);}// login function\nfunction _signup(){_signup=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(email,password,username){var auth,user;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:auth=getAuth();_context.next=3;return createUserWithEmailAndPassword(auth,email,password);case 3:_context.next=5;return updateProfile(auth.currentUser,{displayName:username});case 5:user=auth.currentUser;setCurrentuser(_objectSpread({},user));case 7:case\"end\":return _context.stop();}}},_callee);}));return _signup.apply(this,arguments);}function login(email,password){var auth=getAuth();return signInWithEmailAndPassword(auth,email,password);}// log out function\nfunction logout(){var auth=getAuth();return signOut(auth);}var value={currentUser:currentUser,signup:signup,login:login,logout:logout};return/*#__PURE__*/_jsx(AuthContext.Provider,{value:value,children:!loding&&children});}","map":{"version":3,"sources":["C:/Users/Ismail Saheb/Desktop/ams/src/components/quiz_app/contexts/Authcontext.js"],"names":["React","useContext","useEffect","useState","getAuth","createUserWithEmailAndPassword","updateProfile","signInWithEmailAndPassword","signOut","onAuthStateChanged","AuthContext","createContext","useAuth","AuthProvider","children","loding","setLoding","currentUser","setCurrentuser","auth","unsubscribe","user","signup","email","password","username","displayName","login","logout","value"],"mappings":"ueAAA,MAAOA,CAAAA,KAAP,EAAgBC,UAAhB,CAA4BC,SAA5B,CAAuCC,QAAvC,KAAuD,OAAvD,CACA,MAAO,aAAP,CACA,OACEC,OADF,CAEEC,8BAFF,CAGEC,aAHF,CAGiBC,0BAHjB,CAIEC,OAJF,CAKEC,kBALF,KAK2B,eAL3B,C,2CAOA,GAAMC,CAAAA,WAAW,cAAGV,KAAK,CAACW,aAAN,EAApB,CAEA,MAAO,SAASC,CAAAA,OAAT,EAAkB,CACvB,MAAOX,CAAAA,UAAU,CAACS,WAAD,CAAjB,CACD,CAED,MAAO,SAASG,CAAAA,YAAT,MAAkC,IAAVC,CAAAA,QAAU,MAAVA,QAAU,CACvC,cAA4BX,QAAQ,CAAC,IAAD,CAApC,wCAAOY,MAAP,eAAeC,SAAf,eACA,eAAsCb,QAAQ,EAA9C,yCAAOc,WAAP,eAAoBC,cAApB,eAEAhB,SAAS,CAAC,UAAM,CACd,GAAMiB,CAAAA,IAAI,CAAGf,OAAO,EAApB,CACF,GAAMgB,CAAAA,WAAW,CAAIX,kBAAkB,CAACU,IAAD,CAAO,SAACE,IAAD,CAAU,CAClDH,cAAc,CAACG,IAAD,CAAd,CACAL,SAAS,CAAC,KAAD,CAAT,CACH,CAHoC,CAAvC,CAIE,MAAOI,CAAAA,WAAP,CACD,CAPQ,CAON,EAPM,CAAT,CASA;AAbuC,QAc1BE,CAAAA,MAd0B,mDA4BzC;AA5ByC,mFAczC,iBAAsBC,KAAtB,CAA6BC,QAA7B,CAAuCC,QAAvC,gIACSN,IADT,CACgBf,OAAO,EADvB,uBAESC,CAAAA,8BAA8B,CAACc,IAAD,CAAOI,KAAP,CAAcC,QAAd,CAFvC,8BAIMlB,CAAAA,aAAa,CAACa,IAAI,CAACF,WAAN,CAAmB,CACpCS,WAAW,CAAED,QADuB,CAAnB,CAJnB,QAQMJ,IARN,CAQaF,IAAI,CAACF,WARlB,CASAC,cAAc,kBACTG,IADS,EAAd,CATA,sDAdyC,yCA6BzC,QAASM,CAAAA,KAAT,CAAeJ,KAAf,CAAsBC,QAAtB,CAA+B,CAC7B,GAAML,CAAAA,IAAI,CAAGf,OAAO,EAApB,CACA,MAAOG,CAAAA,0BAA0B,CAACY,IAAD,CAAOI,KAAP,CAAcC,QAAd,CAAjC,CACD,CAED;AACA,QAASI,CAAAA,MAAT,EAAiB,CACf,GAAMT,CAAAA,IAAI,CAAGf,OAAO,EAApB,CACA,MAAOI,CAAAA,OAAO,CAACW,IAAD,CAAd,CACD,CACD,GAAMU,CAAAA,KAAK,CAAG,CACZZ,WAAW,CAAXA,WADY,CAEZK,MAAM,CAANA,MAFY,CAGZK,KAAK,CAALA,KAHY,CAIZC,MAAM,CAANA,MAJY,CAAd,CAMI,mBACE,KAAC,WAAD,CAAa,QAAb,EAAsB,KAAK,CAAEC,KAA7B,UACE,CAACd,MAAD,EAAWD,QADb,EADF,CAKH","sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\r\nimport '../firebase';\r\nimport {\r\n  getAuth, \r\n  createUserWithEmailAndPassword, \r\n  updateProfile, signInWithEmailAndPassword, \r\n  signOut, \r\n  onAuthStateChanged} from 'firebase/auth';\r\n\r\nconst AuthContext = React.createContext();\r\n  \r\nexport function useAuth(){\r\n  return useContext(AuthContext);\r\n}\r\n\r\nexport function AuthProvider ({children}){\r\n  const [loding, setLoding] = useState(true);\r\n  const [currentUser, setCurrentuser] = useState();\r\n\r\n  useEffect(() => {\r\n    const auth = getAuth();\r\n  const unsubscribe =  onAuthStateChanged(auth, (user) => {\r\n        setCurrentuser(user);\r\n        setLoding(false);\r\n    });\r\n    return unsubscribe;\r\n  }, []);\r\n\r\n  // signup function\r\nasync function signup(email, password, username){\r\n   const auth = getAuth();\r\n   await createUserWithEmailAndPassword(auth, email, password);\r\n   // update profile\r\nawait updateProfile(auth.currentUser, {\r\n  displayName: username\r\n});\r\n\r\nconst user = auth.currentUser;\r\nsetCurrentuser({\r\n  ...user,\r\n});\r\n}\r\n\r\n// login function\r\nfunction login(email, password){\r\n  const auth = getAuth();\r\n  return signInWithEmailAndPassword(auth, email, password);\r\n}\r\n\r\n// log out function\r\nfunction logout(){\r\n  const auth = getAuth();\r\n  return signOut(auth);\r\n}\r\nconst value = {\r\n  currentUser,\r\n  signup,\r\n  login,\r\n  logout,\r\n}\r\n    return(\r\n      <AuthContext.Provider value={value}>\r\n       {!loding && children}\r\n      </AuthContext.Provider>\r\n    );\r\n}"]},"metadata":{},"sourceType":"module"}